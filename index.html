<!DOCTYPE html>
<html xmlns="//www.w3.org/1999/html" xmlns="//www.w3.org/1999/html">
	
<head>
    <title>Wave Coffee</title>
	<link rel="shortcut icon" href="favicon.ico"/>
    <!-- Set URL parms -->
    <script>
       var queryString = window.location.search;
       console.log(queryString);

       var urlParams = new URLSearchParams(queryString);

       var vorgid = urlParams.get('orgid')
       console.log(vorgid);
	sessionStorage.setItem('vorgid',vorgid);

       var vdepid = urlParams.get('depid')
       console.log(vdepid);
	sessionStorage.setItem('vdepid',vdepid);

       var vregion = urlParams.get('region')
       console.log(vregion);
	sessionStorage.setItem('vregion',vregion);

       if (vregion == 'euw1')
          {var vurl = 'ie';
           console.log(vurl);
	   sessionStorage.setItem('vurl',vurl);}
       else if (vregion == 'use1' || vregion == 'use2' || vregion == 'usw1' || vregion == 'usw2')
          {var vurl = 'com';
           console.log(vurl);
	   sessionStorage.setItem('vurl',vurl);}
	(function(a,t,c,l,o,u,d){a['_genesysJourneySdk']=o;a[o]=a[o]||function(){
  (a[o].q=a[o].q||[]).push(arguments)},a[o].l=1*new Date();u=t.createElement(c),
  d=t.getElementsByTagName(c)[0];u.async=1;u.src=l;u.charset='utf-8';d.parentNode.insertBefore(u,d)
  })(window, document, 'script', 'https://apps.mypurecloud.' + vurl + '/journey/sdk/js/web/v1/ac.js', 'ac');
  ac('init', vorgid, { region: vregion });
  ac('pageview');
    </script>

<style>
.button {
top:450px;right:-15px;position:fixed;z-index:99999;padding:10px;color:#000000;border:1px solid #000000;transform: rotate(-90deg);height:43.5px;font-weight:700;
}

.chat-button {background-color: #ffffff!;}
</style>
	
</head>

<body>

<img src="images/home.jpg" alt="Home" usemap="#workmap" width=100% height=100%>

<map name="workmap">
  <area shape="rect" coords="288,74,638,123" alt="Store" href="store.html">
  <area shape="rect" coords="1055,465,1314,545" alt="Shop Now" href="store.html">
  <area shape="rect" coords="1033,77,1197,115" alt="Contact Us" href="contact.html">
</map>
<script src="https://apps.mypurecloud.ie/widgets/9.0/cxbus.min.js" onload="javascript:CXBus.configure({debug:false,pluginsPath:'https://apps.mypurecloud.ie/widgets/9.0/plugins/'}); CXBus.loadPlugin('widgets-core');"></script>

<script>
  window._genesys = {
    "widgets": {
      "webchat": {
        "transport": {
          "type": "purecloud-v2-sockets",
          "dataURL": "https://api.mypurecloud.ie",
          "deploymentKey": "adb9319d-7cf5-481d-b138-51ca96f702a5",
          "orgGuid": "3b03b67a-2349-4a03-8b28-c8ac5c26c49a",
          "interactionData": {
            "routing": {
              "targetType": "QUEUE",
              "targetAddress": "GB Agents",
              "priority": 2
            }
          }
        },
        "userData": {
          "addressStreet": "",
          "addressCity": "",
          "addressPostalCode": "",
          "addressState": "",
          "phoneNumber": "",
          "customField1Label": "",
          "customField1": "",
          "customField2Label": "",
          "customField2": "",
          "customField3Label": "",
          "customField3": ""
        }
      }
    }
  };

  function getAdvancedConfig() {
    return {
      "form": {
        "autoSubmit": false,
        "firstname": "Joe",
        "lastname": "Bloggs",
        "email": "joe@cxmail.com",
        "subject": "Loan enquiry"
      },
      "formJSON": {
        "wrapper": "<table></table>",
        "inputs": [
          {
            "id": "cx_webchat_form_firstname",
            "name": "firstname",
            "maxlength": "100",
            "placeholder": "Required",
            "label": "First Name"
          },
          {
            "id": "cx_webchat_form_lastname",
            "name": "lastname",
            "maxlength": "100",
            "placeholder": "Required",
            "label": "Last Name"
          },
          {
            "id": "cx_webchat_form_email",
            "name": "email",
            "maxlength": "100",
            "placeholder": "Optional",
            "label": "Email"
          },
          {
            "id": "cx_webchat_form_subject",
            "name": "subject",
            "maxlength": "100",
            "placeholder": "Optional",
            "label": "Subject"
          }
        ]
      }
    };
  }

  const customPlugin = CXBus.registerPlugin('Custom');
</script>

<button class="button chat-button" onclick="customPlugin.command('WebChat.open', getAdvancedConfig());">Start Chat</button>
</body>
</html>
